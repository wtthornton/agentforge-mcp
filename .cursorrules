# AgentForge - Agent OS Integration Rules

## üéØ Project Overview
AgentForge is a static analyzer and project setup/migration utility that follows Agent OS development standards.

**CRITICAL**: This is a STATIC ANALYZER ONLY project. NO AI suggestion features, NO dynamic AI processing, NO AI-driven automation.

## üìö Mandatory Standards Reference
**ALWAYS** reference these standards before making any code changes:

### üéØ PRIMARY PRIORITY: Product Technology Stack
- **Technology Stack**: `.agent-os/product/tech-stack.md` - **MANDATORY FIRST REFERENCE** for all technology decisions
- **Mission & Features**: `.agent-os/product/mission.md` and `.agent-os/product/FEATURES.md` - **PROJECT CONSTRAINTS AND GOALS**

### Core Standards (Secondary Priority)
- **Code Style**: `.agent-os/standards/code-style.md` - Coding conventions and patterns
- **Best Practices**: `.agent-os/standards/best-practices.md` - Development principles
- **Security & Compliance**: `.agent-os/standards/security-compliance.md` - Security requirements
- **Testing Strategy**: `.agent-os/standards/testing-strategy.md` - Testing standards
- **CI/CD Strategy**: `.agent-os/standards/ci-cd-strategy.md` - Deployment standards
- **Enforcement**: `.agent-os/standards/enforcement.md` - Mandatory compliance rules
- **Feature Scoring**: `.agent-os/standards/feature-scoring.md` - Feature evaluation framework
- **Development Patterns**: `.agent-os/standards/consolidated-development-patterns.md` - Consolidated patterns
- **Configuration Management**: `.agent-os/standards/configuration-management.md` - Config standards

### Product Folder Priority (CRITICAL)
- **Product Priority Rules**: `.cursor/rules/product-priority.mdc` - **MANDATORY FIRST** for all project decisions
- **Product Tech Stack**: `.agent-os/product/tech-stack.md` - **MANDATORY FIRST REFERENCE** for technology choices
- **Product Mission**: `.agent-os/product/mission.md` - **MANDATORY FIRST** for project goals and constraints

### Context7 Integration (Secondary Priority)
- **Context7 Rules**: `.cursor/rules/context7-integration.mdc` - **MANDATORY** for all technology validation
- **Context7 Priority**: **ALWAYS** use Context7 first for library documentation and best practices
- **Context7 Fallback**: Only use Agent OS standards when Context7 doesn't cover specific requirements

### Code Style Standards
- **CSS/TailwindCSS**: `.agent-os/standards/code-style/css-style.md`
- **HTML**: `.agent-os/standards/code-style/html-style.md`
- **JavaScript/TypeScript**: `.agent-os/standards/code-style/javascript-style.md`
- **Java/Spring**: `.agent-os/standards/code-style/java-style.md`

## üö´ Project Constraints (CRITICAL)
- **NO AI suggestion features** - Keep AgentForge as static analyzer only
- **NO dynamic AI processing** - No real-time AI analysis
- **NO AI-driven automation** - No AI-controlled workflows
- **NO machine learning features** - No ML model training or inference
- **NO AI chat interfaces** - No conversational AI features
- **Focus on core components**: logging, reporting, monitoring, project analysis
- **Static analysis only** - Code quality, security, and style checking

## üèóÔ∏è Architecture Requirements
- **Backend**: Spring Boot 3.3+ (Java 21 LTS) with Controller ‚Üí Service ‚Üí Repository pattern
- **Frontend**: React 19 with TypeScript 5, functional components and hooks
- **Database**: PostgreSQL 17 with pgvector extension
- **Containerization**: Docker 24 with multi-stage builds

## üéØ AgentForge-Specific Requirements

### Core Components Priority
1. **Logging Service** - Centralized logging with Agent OS standards compliance
2. **Monitoring Service** - System metrics, health checks, and performance monitoring
3. **Reporting Service** - Compliance reports and project analysis summaries
4. **Project Analysis Service** - Project structure analysis and technology stack detection

### Database Schema Requirements
- **User Management**: Authentication and authorization tables
- **Project Storage**: Project metadata and analysis results
- **Compliance Tracking**: Standards compliance and violation records
- **Audit Logging**: Complete audit trail for all operations

### Performance Targets
- **Backend Response Time**: P95 ‚â§200ms
- **Frontend Time to Interactive**: ‚â§1.8s
- **Analysis Speed**: ‚â§30 seconds for 1000 LOC
- **Memory Usage**: ‚â§512MB for large projects

## ‚ö° Mandatory Feature Scoring (CRITICAL)
**ALWAYS** score all features before development using the 4-dimension framework:

### Required Scoring Dimensions
- **Business Impact (1-10)**: How much does this improve Agent-OS effectiveness?
- **Developer Productivity (1-10)**: How much faster/better will developers code with this feature?
- **Implementation Complexity (1-10)**: How difficult is this to build and maintain?
- **Adoption Likelihood (1-10)**: How likely are developers to actively use this feature?

### Phase Classification
- **Phase 1**: Developer Productivity ‚â• 8/10 OR Combined Score ‚â• 32/40
- **Phase 2**: Developer Productivity ‚â• 7/10 OR Combined Score ‚â• 28/40
- **Phase 3+**: All other features requiring executive approval

**ALWAYS** use `.agent-os/templates/feature-scoring-template.md` for documentation.

## ‚úÖ Mandatory Compliance & Enforcement
**ALWAYS** run compliance check after any changes:
```bash
node .agent-os/tools/compliance-checker.js --detailed
```

**Required Compliance Score**: ‚â•85%

### Enforcement Rules
1. **Feature Scoring Framework** - MANDATORY for all features
2. **Context7 Technology Validation** - **MANDATORY** - Validate ALL technology choices against Context7 before implementation
3. **Task Tracking Standards** - Update tasks.md immediately after each subtask
4. **Lessons Learned Capture** - Use `.agent-os/templates/lessons-learned-template.md`
5. **Automatic Compliance Checking** - Run after every subtask completion
6. **Context7 Compliance** - **MANDATORY** - All implementations must follow Context7 best practices

## üìã Development Workflow
1. **Before coding**: **FIRST** check `.agent-os/product/tech-stack.md` for technology constraints, **THEN** check relevant standards files, **validate against Context7**, and run compliance checker
2. **Feature Planning**: **FIRST** review `.agent-os/product/mission.md` and `.agent-os/product/FEATURES.md` for project goals, **THEN** score features using the 4-dimension framework, **research Context7 best practices**
3. **During development**: **FIRST** ensure compliance with product technology stack, **THEN** follow established patterns, **reference Context7 documentation**, and update tasks.md immediately
4. **After changes**: Run compliance checker, **verify Context7 compliance**, and capture lessons learned
5. **Before submission**: **FIRST** validate product technology stack compliance, **THEN** validate all standards compliance, **Context7 pattern compliance**, and quality gates

## üîß Tools & Utilities Integration

### Primary Development Tools
- **Compliance Checker**: `.agent-os/tools/compliance-checker.js` - Primary compliance validation
- **Agent OS CLI**: `.agent-os/tools/agent-os-cli.js` - Command-line interface
- **Validation Suite**: `.agent-os/tools/validation-suite.js` - Comprehensive validation
- **Refactoring Validator**: `.agent-os/tools/refactoring-validator.js` - Code quality validation
- **Real-time Monitor**: `.agent-os/tools/real-time-monitor.js` - Live system monitoring
- **Enhanced Dashboard**: `.agent-os/tools/enhanced-dashboard.js` - Visual metrics dashboard

### Feature Scoring Tools
- **Feature Scorer**: `.agent-os/tools/feature-scoring/` - 4-dimension scoring framework
- **Phase Management**: `.agent-os/feature-scoring/phase-3-features-scoring.md` - Phase-based feature management

### Lessons & Patterns Management
- **Lessons Management**: `.agent-os/tools/lessons/` - Lessons learned capture and retrieval
- **Pattern Analysis**: `.agent-os/patterns/common-errors.yml` - Common error patterns
- **Development Patterns**: `.agent-os/standards/consolidated-development-patterns.md` - Best practices

### Cursor Integration Tools
- **Cursor Init**: `.agent-os/tools/cursor/cursor-init.js` - Cursor rules generation
- **Cursor Analytics**: `.agent-os/tools/cursor/cursor-analytics.js` - Usage analytics
- **Cursor Rule Optimizer**: `.agent-os/tools/cursor/cursor-rule-optimizer.js` - Rule optimization

### Context7 Integration Tools
- **Context7 Rules**: `.cursor/rules/context7-integration.mdc` - **MANDATORY** Context7 integration rules
- **Context7 MCP Tools**: `mcp_Context7_resolve-library-id` and `mcp_Context7_get-library-docs` - Real-time documentation access
- **Context7 Validation**: Technology stack validation against current best practices

### Quality Assurance Tools
- **Quality Gates**: `.agent-os/quality-assurance/agent-os-quality-gates.md` - Quality thresholds
- **Statistical Analysis**: `.agent-os/tools/statistical-analysis.js` - Metrics analysis
- **Database Optimizer**: `.agent-os/tools/database-optimizer.js` - Database performance

### Scripts & Automation
- **Setup Scripts**: `.agent-os/scripts/setup.js` - Interactive setup
- **Quick Start**: `.agent-os/scripts/quick-start.js` - Rapid initialization
- **Compliance Automation**: `.agent-os/scripts/compliance-automation.js` - Automated compliance
- **Production Deployment**: `.agent-os/scripts/production-deployment.js` - Deployment automation

## üìñ Lessons Learned & Patterns Integration
**ALWAYS** reference and update:
- **Lessons Learned**: `.agent-os/lessons-learned/README.md`
- **Development Patterns**: `.agent-os/standards/consolidated-development-patterns.md`
- **Common Errors**: `.agent-os/patterns/common-errors.yml`
- **Templates**: `.agent-os/templates/` for all documentation

## üé® UI/UX Standards
- **Component Library**: shadcn/ui with TailwindCSS 3.x (STABLE)
- **State Management**: TanStack Query 5 + Context API
- **Build Tool**: Vite 5.x
- **CSS Framework**: TailwindCSS 3.x (avoid 4.x until stable)

## üîí Security Standards
- **Zero hardcoded secrets**
- **100% encryption coverage**
- **OWASP Top-10 compliance**
- **Vulnerability scanning mandatory**

## üß™ Testing Requirements
- **Coverage**: ‚â•85% branch coverage
- **Unit Tests**: Comprehensive for all services
- **Integration Tests**: API endpoint validation
- **Performance**: P95 ‚â§200ms response time

## üìä Quality Gates
- **Code Quality**: ‚â§5 TODO items per service
- **Performance**: TTI ‚â§1.8s frontend, P95 ‚â§150ms backend
- **Security**: 0 vulnerabilities, 100% compliance
- **Architecture**: Controller ‚Üí Service ‚Üí Repository pattern enforced
- **Context7 Compliance**: **100%** - All technology choices validated against Context7, all implementations follow Context7 best practices

## üöÄ Quick Start Commands

### Initial Setup
```bash
# Interactive setup menu - Start here!
node .agent-os/scripts/setup.js

# Quick initialization of everything
node .agent-os/scripts/quick-start.js

# Validate current state
node .agent-os/scripts/setup.js validate
```

### Daily Development
```bash
# Quick daily validation
node .agent-os/scripts/setup.js validate

# Context7 validation (MANDATORY)
# Use mcp_Context7_resolve-library-id and mcp_Context7_get-library-docs for technology validation

# Compliance check
node .agent-os/tools/compliance-checker.js --detailed

# Real-time monitoring
node .agent-os/tools/real-time-monitor.js

# Dashboard view
node .agent-os/tools/enhanced-dashboard.js
```

### Feature Development
```bash
# 1. Score feature using 4-dimension framework
node .agent-os/tools/feature-scoring/feature-scorer.js

# 2. Validate technology choices against Context7
# Use mcp_Context7_resolve-library-id and mcp_Context7_get-library-docs

# 3. Check compliance before starting
node .agent-os/tools/compliance-checker.js --detailed

# 4. Develop following Controller ‚Üí Service ‚Üí Repository pattern
# Reference Context7 documentation throughout development

# 5. Update tasks.md immediately after each subtask

# 6. Run compliance check after each subtask
node .agent-os/tools/compliance-checker.js --detailed

# 7. Verify Context7 compliance
# Ensure all implementations follow Context7 best practices

# 8. Capture lessons learned
# Use .agent-os/templates/lessons-learned-template.md
```

### Advanced Tools
```bash
# Statistical analysis
node .agent-os/tools/statistical-analysis.js

# Database optimization
node .agent-os/tools/database-optimizer.js

# Cursor rule optimization
node .agent-os/tools/cursor/cursor-rule-optimizer.js

# Validation suite
node .agent-os/tools/validation-suite.js
```

## üìà Success Metrics
- **Zero Security Vulnerabilities**: No hardcoded secrets or security issues
- **High Code Quality**: ‚â§5 TODO items per service, ‚â•85% test coverage
- **Excellent Performance**: P95 ‚â§200ms response time
- **Comprehensive Documentation**: All public APIs documented
- **Systematic Refactoring**: Refactoring after each phase completion
- **Feature Scoring Compliance**: 100% features scored before development

## üîÑ Continuous Improvement
- **Weekly**: Run comprehensive compliance checks
- **Bi-weekly**: Review and update lessons learned
- **Monthly**: Analyze statistical metrics and optimize
- **Quarterly**: Review feature scoring and phase progression
- **Annually**: Comprehensive standards review and update

## üéØ AgentForge Development Focus

### üö® CRITICAL: Product Folder Priority
**ALWAYS START HERE** before any development decisions:

1. **`.agent-os/product/tech-stack.md`** - **MANDATORY FIRST REFERENCE** for all technology choices
2. **`.agent-os/product/mission.md`** - **PROJECT GOALS AND CONSTRAINTS**
3. **`.agent-os/product/FEATURES.md`** - **REQUIRED FUNCTIONALITY**
4. **`.agent-os/product/decisions.md`** - **ARCHITECTURE DECISIONS**

### üìã Quick Reference Guide
**See**: `PRODUCT-FOLDER-PRIORITY.md` for complete workflow and examples

### Current Phase Priority (Based on Product Folder)
1. **Database Integration** - PostgreSQL setup and entity models
2. **Repository Layer** - Complete the Controller ‚Üí Service ‚Üí Repository pattern
3. **API Integration** - Frontend-backend communication
4. **Testing Coverage** - Unit and integration tests
5. **Performance Optimization** - Meet performance targets

### Forbidden Development Areas
- **AI/ML Features**: No machine learning, AI suggestions, or dynamic AI processing
- **Real-time AI Analysis**: No live AI-powered code analysis
- **AI Chat Interfaces**: No conversational AI or AI assistants
- **Automated AI Workflows**: No AI-controlled development processes

### Required Development Areas
- **Static Analysis**: Code quality, security, and style checking
- **Project Setup**: Scaffolding, configuration, and migration tools
- **Reporting**: Code quality metrics and compliance reporting
- **Monitoring**: System health, performance, and resource usage
- **Logging**: Comprehensive development and runtime logging
